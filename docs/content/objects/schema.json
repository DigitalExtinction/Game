{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/product.schema.json",
  "title": "Object Info",
  "type": "object",
  "description": "Description of a game object.",
  "properties": {
    "footprint": {
      "type": "object",
      "description": "A 2D footprint of the object used for path planning and collision avoidance.",
      "properties": {
        "convex_hull": {
          "type": "array",
          "description": "A convex polygon fully containing the object.",
          "items": {
            "type": "array",
            "description": "2D coordinates in the object space.",
            "items": {
              "type": "number"
            },
            "minItems": 2,
            "maxItems": 2
          },
          "minItems": 3
        }
      },
      "required": [
        "convex_hull"
      ]
    },
    "shape": {
      "type": "object",
      "description": "A tri-mesh collider of the object. The object 3D model is fully contained inside the buffer. Due to performance reasons, the number of triangles should be very small.",
      "properties": {
        "vertices": {
          "type": "array",
          "description": "Array of unique vertices of the tri-mesh.",
          "items": {
            "type": "array",
            "description": "A 3D point in object space.",
            "items": {
              "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
          },
          "minItems": 4,
          "uniqueItems": true
        },
        "indices": {
          "type": "array",
          "description": "Triangle vertex triplets. Each triplets is counter clockwise.",
          "items": {
            "type": "array",
            "description": "An index of `vertices` array.",
            "items": {
              "type": "integer"
            },
            "minItems": 3,
            "maxItems": 3,
            "minimum": 0
          },
          "minItems": 4
        }
      },
      "required": [
        "vertices",
        "indices"
      ]
    },
    "cannon": {
      "type": "object",
      "description": "Properties of a laser cannon.",
      "properties": {
        "muzzle": {
          "type": "array",
          "description": "3D coordinates of the cannon muzzle in object space.",
          "items": {
            "type": "number"
          },
          "minItems": 3,
          "maxItems": 3
        },
          "range": {
              "type": "number",
              "description": "Maximum firing distance of the cannon.",
              "exclusiveMinimum": 0
          },
          "damage": {
              "type": "number",
              "description": "Enemy damage when hit by the gun.",
              "exclusiveMinimum": 0
          },
          "recharge_interval": {
              "type": "number",
              "description": "Minimum time between two gun shots.",
              "exclusiveMinimum": 0
          }
      },
      "required": [
        "muzzle",
        "range",
        "damage",
        "recharge_interval"
      ]
    }
  },
  "required": [
    "footprint",
    "shape"
  ]
}
